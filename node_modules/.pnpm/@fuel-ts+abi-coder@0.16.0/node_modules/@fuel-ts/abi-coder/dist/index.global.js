"use strict";(()=>{var gi=Object.create;var Qe=Object.defineProperty;var yi=Object.getOwnPropertyDescriptor;var vi=Object.getOwnPropertyNames;var xi=Object.getPrototypeOf,bi=Object.prototype.hasOwnProperty;var je=(s=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(s,{get:(r,e)=>(typeof require!="undefined"?require:r)[e]}):s)(function(s){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+s+'" is not supported')});var At=(s,r)=>()=>(r||s((r={exports:{}}).exports,r),r.exports);var wi=(s,r,e,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of vi(r))!bi.call(s,i)&&i!==e&&Qe(s,i,{get:()=>r[i],enumerable:!(a=yi(r,i))||a.enumerable});return s};var tn=(s,r,e)=>(e=s!=null?gi(xi(s)):{},wi(r||!s||!s.__esModule?Qe(e,"default",{value:s,enumerable:!0}):e,s));var rn=(s,r,e)=>{if(!r.has(s))throw TypeError("Cannot "+e)};var sr=(s,r,e)=>(rn(s,r,"read from private field"),e?e.call(s):r.get(s)),Rr=(s,r,e)=>{if(r.has(s))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(s):r.set(s,e)},Sr=(s,r,e,a)=>(rn(s,r,"write to private field"),a?a.call(s,e):r.set(s,e),e);var mn=At((pn,be)=>{(function(s,r){"use strict";function e(d,t){if(!d)throw new Error(t||"Assertion failed")}function a(d,t){d.super_=t;var o=function(){};o.prototype=t.prototype,d.prototype=new o,d.prototype.constructor=d}function i(d,t,o){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(d||0,t||10,o||"be"))}typeof s=="object"?s.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=je("buffer").Buffer}catch{}i.isBN=function(t){return t instanceof i?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,o){return t.cmp(o)>0?t:o},i.min=function(t,o){return t.cmp(o)<0?t:o},i.prototype._init=function(t,o,f){if(typeof t=="number")return this._initNumber(t,o,f);if(typeof t=="object")return this._initArray(t,o,f);o==="hex"&&(o=16),e(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var h=0;t[0]==="-"&&(h++,this.negative=1),h<t.length&&(o===16?this._parseHex(t,h,f):(this._parseBase(t,o,h),f==="le"&&this._initArray(this.toArray(),o,f)))},i.prototype._initNumber=function(t,o,f){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(e(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),o,f)},i.prototype._initArray=function(t,o,f){if(e(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var u,m,g=0;if(f==="be")for(h=t.length-1,u=0;h>=0;h-=3)m=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[u]|=m<<g&67108863,this.words[u+1]=m>>>26-g&67108863,g+=24,g>=26&&(g-=26,u++);else if(f==="le")for(h=0,u=0;h<t.length;h+=3)m=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[u]|=m<<g&67108863,this.words[u+1]=m>>>26-g&67108863,g+=24,g>=26&&(g-=26,u++);return this._strip()};function y(d,t){var o=d.charCodeAt(t);if(o>=48&&o<=57)return o-48;if(o>=65&&o<=70)return o-55;if(o>=97&&o<=102)return o-87;e(!1,"Invalid character in "+d)}function v(d,t,o){var f=y(d,o);return o-1>=t&&(f|=y(d,o-1)<<4),f}i.prototype._parseHex=function(t,o,f){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var u=0,m=0,g;if(f==="be")for(h=t.length-1;h>=o;h-=2)g=v(t,o,h)<<u,this.words[m]|=g&67108863,u>=18?(u-=18,m+=1,this.words[m]|=g>>>26):u+=8;else{var l=t.length-o;for(h=l%2===0?o+1:o;h<t.length;h+=2)g=v(t,o,h)<<u,this.words[m]|=g&67108863,u>=18?(u-=18,m+=1,this.words[m]|=g>>>26):u+=8}this._strip()};function x(d,t,o,f){for(var h=0,u=0,m=Math.min(d.length,o),g=t;g<m;g++){var l=d.charCodeAt(g)-48;h*=f,l>=49?u=l-49+10:l>=17?u=l-17+10:u=l,e(l>=0&&u<f,"Invalid character"),h+=u}return h}i.prototype._parseBase=function(t,o,f){this.words=[0],this.length=1;for(var h=0,u=1;u<=67108863;u*=o)h++;h--,u=u/o|0;for(var m=t.length-f,g=m%h,l=Math.min(m,m-g)+f,n=0,c=f;c<l;c+=h)n=x(t,c,c+h,o),this.imuln(u),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(g!==0){var w=1;for(n=x(t,c,t.length,o),c=0;c<g;c++)w*=o;this.imuln(w),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red};function b(d,t){d.words=t.words,d.length=t.length,d.negative=t.negative,d.red=t.red}if(i.prototype._move=function(t){b(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{i.prototype.inspect=_}else i.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,o){t=t||10,o=o|0||1;var f;if(t===16||t==="hex"){f="";for(var h=0,u=0,m=0;m<this.length;m++){var g=this.words[m],l=((g<<h|u)&16777215).toString(16);u=g>>>24-h&16777215,h+=2,h>=26&&(h-=26,m--),u!==0||m!==this.length-1?f=E[6-l.length]+l+f:f=l+f}for(u!==0&&(f=u.toString(16)+f);f.length%o!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(t===(t|0)&&t>=2&&t<=36){var n=R[t],c=C[t];f="";var w=this.clone();for(w.negative=0;!w.isZero();){var M=w.modrn(c).toString(t);w=w.idivn(c),w.isZero()?f=M+f:f=E[n-M.length]+M+f}for(this.isZero()&&(f="0"+f);f.length%o!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}e(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},p&&(i.prototype.toBuffer=function(t,o){return this.toArrayLike(p,t,o)}),i.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)};var S=function(t,o){return t.allocUnsafe?t.allocUnsafe(o):new t(o)};i.prototype.toArrayLike=function(t,o,f){this._strip();var h=this.byteLength(),u=f||Math.max(1,h);e(h<=u,"byte array longer than desired length"),e(u>0,"Requested array length <= 0");var m=S(t,u),g=o==="le"?"LE":"BE";return this["_toArrayLike"+g](m,h),m},i.prototype._toArrayLikeLE=function(t,o){for(var f=0,h=0,u=0,m=0;u<this.length;u++){var g=this.words[u]<<m|h;t[f++]=g&255,f<t.length&&(t[f++]=g>>8&255),f<t.length&&(t[f++]=g>>16&255),m===6?(f<t.length&&(t[f++]=g>>24&255),h=0,m=0):(h=g>>>24,m+=2)}if(f<t.length)for(t[f++]=h;f<t.length;)t[f++]=0},i.prototype._toArrayLikeBE=function(t,o){for(var f=t.length-1,h=0,u=0,m=0;u<this.length;u++){var g=this.words[u]<<m|h;t[f--]=g&255,f>=0&&(t[f--]=g>>8&255),f>=0&&(t[f--]=g>>16&255),m===6?(f>=0&&(t[f--]=g>>24&255),h=0,m=0):(h=g>>>24,m+=2)}if(f>=0)for(t[f--]=h;f>=0;)t[f--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var o=t,f=0;return o>=4096&&(f+=13,o>>>=13),o>=64&&(f+=7,o>>>=7),o>=8&&(f+=4,o>>>=4),o>=2&&(f+=2,o>>>=2),f+o},i.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,f=0;return(o&8191)===0&&(f+=13,o>>>=13),(o&127)===0&&(f+=7,o>>>=7),(o&15)===0&&(f+=4,o>>>=4),(o&3)===0&&(f+=2,o>>>=2),(o&1)===0&&f++,f},i.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function _t(d){for(var t=new Array(d.bitLength()),o=0;o<t.length;o++){var f=o/26|0,h=o%26;t[o]=d.words[f]>>>h&1}return t}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var f=this._zeroBits(this.words[o]);if(t+=f,f!==26)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this._strip()},i.prototype.ior=function(t){return e((this.negative|t.negative)===0),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var f=0;f<o.length;f++)this.words[f]=this.words[f]&t.words[f];return this.length=o.length,this._strip()},i.prototype.iand=function(t){return e((this.negative|t.negative)===0),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var o,f;this.length>t.length?(o=this,f=t):(o=t,f=this);for(var h=0;h<f.length;h++)this.words[h]=o.words[h]^f.words[h];if(this!==o)for(;h<o.length;h++)this.words[h]=o.words[h];return this.length=o.length,this._strip()},i.prototype.ixor=function(t){return e((this.negative|t.negative)===0),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){e(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,f=t%26;this._expand(o),f>0&&o--;for(var h=0;h<o;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,o){e(typeof t=="number"&&t>=0);var f=t/26|0,h=t%26;return this._expand(f+1),o?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this._strip()},i.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var f,h;this.length>t.length?(f=this,h=t):(f=t,h=this);for(var u=0,m=0;m<h.length;m++)o=(f.words[m]|0)+(h.words[m]|0)+u,this.words[m]=o&67108863,u=o>>>26;for(;u!==0&&m<f.length;m++)o=(f.words[m]|0)+u,this.words[m]=o&67108863,u=o>>>26;if(this.length=f.length,u!==0)this.words[this.length]=u,this.length++;else if(f!==this)for(;m<f.length;m++)this.words[m]=f.words[m];return this},i.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var f=this.cmp(t);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,u;f>0?(h=this,u=t):(h=t,u=this);for(var m=0,g=0;g<u.length;g++)o=(h.words[g]|0)-(u.words[g]|0)+m,m=o>>26,this.words[g]=o&67108863;for(;m!==0&&g<h.length;g++)o=(h.words[g]|0)+m,m=o>>26,this.words[g]=o&67108863;if(m===0&&g<h.length&&h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this.length=Math.max(this.length,g),h!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};function Ot(d,t,o){o.negative=t.negative^d.negative;var f=d.length+t.length|0;o.length=f,f=f-1|0;var h=d.words[0]|0,u=t.words[0]|0,m=h*u,g=m&67108863,l=m/67108864|0;o.words[0]=g;for(var n=1;n<f;n++){for(var c=l>>>26,w=l&67108863,M=Math.min(n,t.length-1),A=Math.max(0,n-d.length+1);A<=M;A++){var T=n-A|0;h=d.words[T]|0,u=t.words[A]|0,m=h*u+w,c+=m/67108864|0,w=m&67108863}o.words[n]=w|0,l=c|0}return l!==0?o.words[n]=l|0:o.length--,o._strip()}var Xt=function(t,o,f){var h=t.words,u=o.words,m=f.words,g=0,l,n,c,w=h[0]|0,M=w&8191,A=w>>>13,T=h[1]|0,I=T&8191,B=T>>>13,Qt=h[2]|0,P=Qt&8191,D=Qt>>>13,Fe=h[3]|0,L=Fe&8191,V=Fe>>>13,Ue=h[4]|0,q=Ue&8191,J=Ue>>>13,De=h[5]|0,z=De&8191,H=De>>>13,ke=h[6]|0,Z=ke&8191,$=ke>>>13,Le=h[7]|0,W=Le&8191,G=Le>>>13,Ve=h[8]|0,K=Ve&8191,X=Ve>>>13,qe=h[9]|0,Y=qe&8191,Q=qe>>>13,Je=u[0]|0,j=Je&8191,tt=Je>>>13,ze=u[1]|0,rt=ze&8191,et=ze>>>13,He=u[2]|0,nt=He&8191,it=He>>>13,Ze=u[3]|0,ot=Ze&8191,st=Ze>>>13,$e=u[4]|0,at=$e&8191,ft=$e>>>13,We=u[5]|0,ht=We&8191,ut=We>>>13,Ge=u[6]|0,lt=Ge&8191,ct=Ge>>>13,Ke=u[7]|0,dt=Ke&8191,pt=Ke>>>13,Xe=u[8]|0,mt=Xe&8191,gt=Xe>>>13,Ye=u[9]|0,yt=Ye&8191,vt=Ye>>>13;f.negative=t.negative^o.negative,f.length=19,l=Math.imul(M,j),n=Math.imul(M,tt),n=n+Math.imul(A,j)|0,c=Math.imul(A,tt);var Qr=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,l=Math.imul(I,j),n=Math.imul(I,tt),n=n+Math.imul(B,j)|0,c=Math.imul(B,tt),l=l+Math.imul(M,rt)|0,n=n+Math.imul(M,et)|0,n=n+Math.imul(A,rt)|0,c=c+Math.imul(A,et)|0;var jr=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(jr>>>26)|0,jr&=67108863,l=Math.imul(P,j),n=Math.imul(P,tt),n=n+Math.imul(D,j)|0,c=Math.imul(D,tt),l=l+Math.imul(I,rt)|0,n=n+Math.imul(I,et)|0,n=n+Math.imul(B,rt)|0,c=c+Math.imul(B,et)|0,l=l+Math.imul(M,nt)|0,n=n+Math.imul(M,it)|0,n=n+Math.imul(A,nt)|0,c=c+Math.imul(A,it)|0;var te=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(te>>>26)|0,te&=67108863,l=Math.imul(L,j),n=Math.imul(L,tt),n=n+Math.imul(V,j)|0,c=Math.imul(V,tt),l=l+Math.imul(P,rt)|0,n=n+Math.imul(P,et)|0,n=n+Math.imul(D,rt)|0,c=c+Math.imul(D,et)|0,l=l+Math.imul(I,nt)|0,n=n+Math.imul(I,it)|0,n=n+Math.imul(B,nt)|0,c=c+Math.imul(B,it)|0,l=l+Math.imul(M,ot)|0,n=n+Math.imul(M,st)|0,n=n+Math.imul(A,ot)|0,c=c+Math.imul(A,st)|0;var re=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(re>>>26)|0,re&=67108863,l=Math.imul(q,j),n=Math.imul(q,tt),n=n+Math.imul(J,j)|0,c=Math.imul(J,tt),l=l+Math.imul(L,rt)|0,n=n+Math.imul(L,et)|0,n=n+Math.imul(V,rt)|0,c=c+Math.imul(V,et)|0,l=l+Math.imul(P,nt)|0,n=n+Math.imul(P,it)|0,n=n+Math.imul(D,nt)|0,c=c+Math.imul(D,it)|0,l=l+Math.imul(I,ot)|0,n=n+Math.imul(I,st)|0,n=n+Math.imul(B,ot)|0,c=c+Math.imul(B,st)|0,l=l+Math.imul(M,at)|0,n=n+Math.imul(M,ft)|0,n=n+Math.imul(A,at)|0,c=c+Math.imul(A,ft)|0;var ee=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ee>>>26)|0,ee&=67108863,l=Math.imul(z,j),n=Math.imul(z,tt),n=n+Math.imul(H,j)|0,c=Math.imul(H,tt),l=l+Math.imul(q,rt)|0,n=n+Math.imul(q,et)|0,n=n+Math.imul(J,rt)|0,c=c+Math.imul(J,et)|0,l=l+Math.imul(L,nt)|0,n=n+Math.imul(L,it)|0,n=n+Math.imul(V,nt)|0,c=c+Math.imul(V,it)|0,l=l+Math.imul(P,ot)|0,n=n+Math.imul(P,st)|0,n=n+Math.imul(D,ot)|0,c=c+Math.imul(D,st)|0,l=l+Math.imul(I,at)|0,n=n+Math.imul(I,ft)|0,n=n+Math.imul(B,at)|0,c=c+Math.imul(B,ft)|0,l=l+Math.imul(M,ht)|0,n=n+Math.imul(M,ut)|0,n=n+Math.imul(A,ht)|0,c=c+Math.imul(A,ut)|0;var ne=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ne>>>26)|0,ne&=67108863,l=Math.imul(Z,j),n=Math.imul(Z,tt),n=n+Math.imul($,j)|0,c=Math.imul($,tt),l=l+Math.imul(z,rt)|0,n=n+Math.imul(z,et)|0,n=n+Math.imul(H,rt)|0,c=c+Math.imul(H,et)|0,l=l+Math.imul(q,nt)|0,n=n+Math.imul(q,it)|0,n=n+Math.imul(J,nt)|0,c=c+Math.imul(J,it)|0,l=l+Math.imul(L,ot)|0,n=n+Math.imul(L,st)|0,n=n+Math.imul(V,ot)|0,c=c+Math.imul(V,st)|0,l=l+Math.imul(P,at)|0,n=n+Math.imul(P,ft)|0,n=n+Math.imul(D,at)|0,c=c+Math.imul(D,ft)|0,l=l+Math.imul(I,ht)|0,n=n+Math.imul(I,ut)|0,n=n+Math.imul(B,ht)|0,c=c+Math.imul(B,ut)|0,l=l+Math.imul(M,lt)|0,n=n+Math.imul(M,ct)|0,n=n+Math.imul(A,lt)|0,c=c+Math.imul(A,ct)|0;var ie=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ie>>>26)|0,ie&=67108863,l=Math.imul(W,j),n=Math.imul(W,tt),n=n+Math.imul(G,j)|0,c=Math.imul(G,tt),l=l+Math.imul(Z,rt)|0,n=n+Math.imul(Z,et)|0,n=n+Math.imul($,rt)|0,c=c+Math.imul($,et)|0,l=l+Math.imul(z,nt)|0,n=n+Math.imul(z,it)|0,n=n+Math.imul(H,nt)|0,c=c+Math.imul(H,it)|0,l=l+Math.imul(q,ot)|0,n=n+Math.imul(q,st)|0,n=n+Math.imul(J,ot)|0,c=c+Math.imul(J,st)|0,l=l+Math.imul(L,at)|0,n=n+Math.imul(L,ft)|0,n=n+Math.imul(V,at)|0,c=c+Math.imul(V,ft)|0,l=l+Math.imul(P,ht)|0,n=n+Math.imul(P,ut)|0,n=n+Math.imul(D,ht)|0,c=c+Math.imul(D,ut)|0,l=l+Math.imul(I,lt)|0,n=n+Math.imul(I,ct)|0,n=n+Math.imul(B,lt)|0,c=c+Math.imul(B,ct)|0,l=l+Math.imul(M,dt)|0,n=n+Math.imul(M,pt)|0,n=n+Math.imul(A,dt)|0,c=c+Math.imul(A,pt)|0;var oe=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(oe>>>26)|0,oe&=67108863,l=Math.imul(K,j),n=Math.imul(K,tt),n=n+Math.imul(X,j)|0,c=Math.imul(X,tt),l=l+Math.imul(W,rt)|0,n=n+Math.imul(W,et)|0,n=n+Math.imul(G,rt)|0,c=c+Math.imul(G,et)|0,l=l+Math.imul(Z,nt)|0,n=n+Math.imul(Z,it)|0,n=n+Math.imul($,nt)|0,c=c+Math.imul($,it)|0,l=l+Math.imul(z,ot)|0,n=n+Math.imul(z,st)|0,n=n+Math.imul(H,ot)|0,c=c+Math.imul(H,st)|0,l=l+Math.imul(q,at)|0,n=n+Math.imul(q,ft)|0,n=n+Math.imul(J,at)|0,c=c+Math.imul(J,ft)|0,l=l+Math.imul(L,ht)|0,n=n+Math.imul(L,ut)|0,n=n+Math.imul(V,ht)|0,c=c+Math.imul(V,ut)|0,l=l+Math.imul(P,lt)|0,n=n+Math.imul(P,ct)|0,n=n+Math.imul(D,lt)|0,c=c+Math.imul(D,ct)|0,l=l+Math.imul(I,dt)|0,n=n+Math.imul(I,pt)|0,n=n+Math.imul(B,dt)|0,c=c+Math.imul(B,pt)|0,l=l+Math.imul(M,mt)|0,n=n+Math.imul(M,gt)|0,n=n+Math.imul(A,mt)|0,c=c+Math.imul(A,gt)|0;var se=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(se>>>26)|0,se&=67108863,l=Math.imul(Y,j),n=Math.imul(Y,tt),n=n+Math.imul(Q,j)|0,c=Math.imul(Q,tt),l=l+Math.imul(K,rt)|0,n=n+Math.imul(K,et)|0,n=n+Math.imul(X,rt)|0,c=c+Math.imul(X,et)|0,l=l+Math.imul(W,nt)|0,n=n+Math.imul(W,it)|0,n=n+Math.imul(G,nt)|0,c=c+Math.imul(G,it)|0,l=l+Math.imul(Z,ot)|0,n=n+Math.imul(Z,st)|0,n=n+Math.imul($,ot)|0,c=c+Math.imul($,st)|0,l=l+Math.imul(z,at)|0,n=n+Math.imul(z,ft)|0,n=n+Math.imul(H,at)|0,c=c+Math.imul(H,ft)|0,l=l+Math.imul(q,ht)|0,n=n+Math.imul(q,ut)|0,n=n+Math.imul(J,ht)|0,c=c+Math.imul(J,ut)|0,l=l+Math.imul(L,lt)|0,n=n+Math.imul(L,ct)|0,n=n+Math.imul(V,lt)|0,c=c+Math.imul(V,ct)|0,l=l+Math.imul(P,dt)|0,n=n+Math.imul(P,pt)|0,n=n+Math.imul(D,dt)|0,c=c+Math.imul(D,pt)|0,l=l+Math.imul(I,mt)|0,n=n+Math.imul(I,gt)|0,n=n+Math.imul(B,mt)|0,c=c+Math.imul(B,gt)|0,l=l+Math.imul(M,yt)|0,n=n+Math.imul(M,vt)|0,n=n+Math.imul(A,yt)|0,c=c+Math.imul(A,vt)|0;var ae=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ae>>>26)|0,ae&=67108863,l=Math.imul(Y,rt),n=Math.imul(Y,et),n=n+Math.imul(Q,rt)|0,c=Math.imul(Q,et),l=l+Math.imul(K,nt)|0,n=n+Math.imul(K,it)|0,n=n+Math.imul(X,nt)|0,c=c+Math.imul(X,it)|0,l=l+Math.imul(W,ot)|0,n=n+Math.imul(W,st)|0,n=n+Math.imul(G,ot)|0,c=c+Math.imul(G,st)|0,l=l+Math.imul(Z,at)|0,n=n+Math.imul(Z,ft)|0,n=n+Math.imul($,at)|0,c=c+Math.imul($,ft)|0,l=l+Math.imul(z,ht)|0,n=n+Math.imul(z,ut)|0,n=n+Math.imul(H,ht)|0,c=c+Math.imul(H,ut)|0,l=l+Math.imul(q,lt)|0,n=n+Math.imul(q,ct)|0,n=n+Math.imul(J,lt)|0,c=c+Math.imul(J,ct)|0,l=l+Math.imul(L,dt)|0,n=n+Math.imul(L,pt)|0,n=n+Math.imul(V,dt)|0,c=c+Math.imul(V,pt)|0,l=l+Math.imul(P,mt)|0,n=n+Math.imul(P,gt)|0,n=n+Math.imul(D,mt)|0,c=c+Math.imul(D,gt)|0,l=l+Math.imul(I,yt)|0,n=n+Math.imul(I,vt)|0,n=n+Math.imul(B,yt)|0,c=c+Math.imul(B,vt)|0;var fe=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(fe>>>26)|0,fe&=67108863,l=Math.imul(Y,nt),n=Math.imul(Y,it),n=n+Math.imul(Q,nt)|0,c=Math.imul(Q,it),l=l+Math.imul(K,ot)|0,n=n+Math.imul(K,st)|0,n=n+Math.imul(X,ot)|0,c=c+Math.imul(X,st)|0,l=l+Math.imul(W,at)|0,n=n+Math.imul(W,ft)|0,n=n+Math.imul(G,at)|0,c=c+Math.imul(G,ft)|0,l=l+Math.imul(Z,ht)|0,n=n+Math.imul(Z,ut)|0,n=n+Math.imul($,ht)|0,c=c+Math.imul($,ut)|0,l=l+Math.imul(z,lt)|0,n=n+Math.imul(z,ct)|0,n=n+Math.imul(H,lt)|0,c=c+Math.imul(H,ct)|0,l=l+Math.imul(q,dt)|0,n=n+Math.imul(q,pt)|0,n=n+Math.imul(J,dt)|0,c=c+Math.imul(J,pt)|0,l=l+Math.imul(L,mt)|0,n=n+Math.imul(L,gt)|0,n=n+Math.imul(V,mt)|0,c=c+Math.imul(V,gt)|0,l=l+Math.imul(P,yt)|0,n=n+Math.imul(P,vt)|0,n=n+Math.imul(D,yt)|0,c=c+Math.imul(D,vt)|0;var he=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(he>>>26)|0,he&=67108863,l=Math.imul(Y,ot),n=Math.imul(Y,st),n=n+Math.imul(Q,ot)|0,c=Math.imul(Q,st),l=l+Math.imul(K,at)|0,n=n+Math.imul(K,ft)|0,n=n+Math.imul(X,at)|0,c=c+Math.imul(X,ft)|0,l=l+Math.imul(W,ht)|0,n=n+Math.imul(W,ut)|0,n=n+Math.imul(G,ht)|0,c=c+Math.imul(G,ut)|0,l=l+Math.imul(Z,lt)|0,n=n+Math.imul(Z,ct)|0,n=n+Math.imul($,lt)|0,c=c+Math.imul($,ct)|0,l=l+Math.imul(z,dt)|0,n=n+Math.imul(z,pt)|0,n=n+Math.imul(H,dt)|0,c=c+Math.imul(H,pt)|0,l=l+Math.imul(q,mt)|0,n=n+Math.imul(q,gt)|0,n=n+Math.imul(J,mt)|0,c=c+Math.imul(J,gt)|0,l=l+Math.imul(L,yt)|0,n=n+Math.imul(L,vt)|0,n=n+Math.imul(V,yt)|0,c=c+Math.imul(V,vt)|0;var ue=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ue>>>26)|0,ue&=67108863,l=Math.imul(Y,at),n=Math.imul(Y,ft),n=n+Math.imul(Q,at)|0,c=Math.imul(Q,ft),l=l+Math.imul(K,ht)|0,n=n+Math.imul(K,ut)|0,n=n+Math.imul(X,ht)|0,c=c+Math.imul(X,ut)|0,l=l+Math.imul(W,lt)|0,n=n+Math.imul(W,ct)|0,n=n+Math.imul(G,lt)|0,c=c+Math.imul(G,ct)|0,l=l+Math.imul(Z,dt)|0,n=n+Math.imul(Z,pt)|0,n=n+Math.imul($,dt)|0,c=c+Math.imul($,pt)|0,l=l+Math.imul(z,mt)|0,n=n+Math.imul(z,gt)|0,n=n+Math.imul(H,mt)|0,c=c+Math.imul(H,gt)|0,l=l+Math.imul(q,yt)|0,n=n+Math.imul(q,vt)|0,n=n+Math.imul(J,yt)|0,c=c+Math.imul(J,vt)|0;var le=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(le>>>26)|0,le&=67108863,l=Math.imul(Y,ht),n=Math.imul(Y,ut),n=n+Math.imul(Q,ht)|0,c=Math.imul(Q,ut),l=l+Math.imul(K,lt)|0,n=n+Math.imul(K,ct)|0,n=n+Math.imul(X,lt)|0,c=c+Math.imul(X,ct)|0,l=l+Math.imul(W,dt)|0,n=n+Math.imul(W,pt)|0,n=n+Math.imul(G,dt)|0,c=c+Math.imul(G,pt)|0,l=l+Math.imul(Z,mt)|0,n=n+Math.imul(Z,gt)|0,n=n+Math.imul($,mt)|0,c=c+Math.imul($,gt)|0,l=l+Math.imul(z,yt)|0,n=n+Math.imul(z,vt)|0,n=n+Math.imul(H,yt)|0,c=c+Math.imul(H,vt)|0;var ce=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(ce>>>26)|0,ce&=67108863,l=Math.imul(Y,lt),n=Math.imul(Y,ct),n=n+Math.imul(Q,lt)|0,c=Math.imul(Q,ct),l=l+Math.imul(K,dt)|0,n=n+Math.imul(K,pt)|0,n=n+Math.imul(X,dt)|0,c=c+Math.imul(X,pt)|0,l=l+Math.imul(W,mt)|0,n=n+Math.imul(W,gt)|0,n=n+Math.imul(G,mt)|0,c=c+Math.imul(G,gt)|0,l=l+Math.imul(Z,yt)|0,n=n+Math.imul(Z,vt)|0,n=n+Math.imul($,yt)|0,c=c+Math.imul($,vt)|0;var de=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(de>>>26)|0,de&=67108863,l=Math.imul(Y,dt),n=Math.imul(Y,pt),n=n+Math.imul(Q,dt)|0,c=Math.imul(Q,pt),l=l+Math.imul(K,mt)|0,n=n+Math.imul(K,gt)|0,n=n+Math.imul(X,mt)|0,c=c+Math.imul(X,gt)|0,l=l+Math.imul(W,yt)|0,n=n+Math.imul(W,vt)|0,n=n+Math.imul(G,yt)|0,c=c+Math.imul(G,vt)|0;var pe=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(pe>>>26)|0,pe&=67108863,l=Math.imul(Y,mt),n=Math.imul(Y,gt),n=n+Math.imul(Q,mt)|0,c=Math.imul(Q,gt),l=l+Math.imul(K,yt)|0,n=n+Math.imul(K,vt)|0,n=n+Math.imul(X,yt)|0,c=c+Math.imul(X,vt)|0;var me=(g+l|0)+((n&8191)<<13)|0;g=(c+(n>>>13)|0)+(me>>>26)|0,me&=67108863,l=Math.imul(Y,yt),n=Math.imul(Y,vt),n=n+Math.imul(Q,yt)|0,c=Math.imul(Q,vt);var ge=(g+l|0)+((n&8191)<<13)|0;return g=(c+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,m[0]=Qr,m[1]=jr,m[2]=te,m[3]=re,m[4]=ee,m[5]=ne,m[6]=ie,m[7]=oe,m[8]=se,m[9]=ae,m[10]=fe,m[11]=he,m[12]=ue,m[13]=le,m[14]=ce,m[15]=de,m[16]=pe,m[17]=me,m[18]=ge,g!==0&&(m[19]=g,f.length++),f};Math.imul||(Xt=Ot);function hr(d,t,o){o.negative=t.negative^d.negative,o.length=d.length+t.length;for(var f=0,h=0,u=0;u<o.length-1;u++){var m=h;h=0;for(var g=f&67108863,l=Math.min(u,t.length-1),n=Math.max(0,u-d.length+1);n<=l;n++){var c=u-n,w=d.words[c]|0,M=t.words[n]|0,A=w*M,T=A&67108863;m=m+(A/67108864|0)|0,T=T+g|0,g=T&67108863,m=m+(T>>>26)|0,h+=m>>>26,m&=67108863}o.words[u]=g,f=m,m=h}return f!==0?o.words[u]=f:o.length--,o._strip()}function ur(d,t,o){return hr(d,t,o)}i.prototype.mulTo=function(t,o){var f,h=this.length+t.length;return this.length===10&&t.length===10?f=Xt(this,t,o):h<63?f=Ot(this,t,o):h<1024?f=hr(this,t,o):f=ur(this,t,o),f};function wt(d,t){this.x=d,this.y=t}wt.prototype.makeRBT=function(t){for(var o=new Array(t),f=i.prototype._countBits(t)-1,h=0;h<t;h++)o[h]=this.revBin(h,f,t);return o},wt.prototype.revBin=function(t,o,f){if(t===0||t===f-1)return t;for(var h=0,u=0;u<o;u++)h|=(t&1)<<o-u-1,t>>=1;return h},wt.prototype.permute=function(t,o,f,h,u,m){for(var g=0;g<m;g++)h[g]=o[t[g]],u[g]=f[t[g]]},wt.prototype.transform=function(t,o,f,h,u,m){this.permute(m,t,o,f,h,u);for(var g=1;g<u;g<<=1)for(var l=g<<1,n=Math.cos(2*Math.PI/l),c=Math.sin(2*Math.PI/l),w=0;w<u;w+=l)for(var M=n,A=c,T=0;T<g;T++){var I=f[w+T],B=h[w+T],Qt=f[w+T+g],P=h[w+T+g],D=M*Qt-A*P;P=M*P+A*Qt,Qt=D,f[w+T]=I+Qt,h[w+T]=B+P,f[w+T+g]=I-Qt,h[w+T+g]=B-P,T!==l&&(D=n*M-c*A,A=n*A+c*M,M=D)}},wt.prototype.guessLen13b=function(t,o){var f=Math.max(o,t)|1,h=f&1,u=0;for(f=f/2|0;f;f=f>>>1)u++;return 1<<u+1+h},wt.prototype.conjugate=function(t,o,f){if(!(f<=1))for(var h=0;h<f/2;h++){var u=t[h];t[h]=t[f-h-1],t[f-h-1]=u,u=o[h],o[h]=-o[f-h-1],o[f-h-1]=-u}},wt.prototype.normalize13b=function(t,o){for(var f=0,h=0;h<o/2;h++){var u=Math.round(t[2*h+1]/o)*8192+Math.round(t[2*h]/o)+f;t[h]=u&67108863,u<67108864?f=0:f=u/67108864|0}return t},wt.prototype.convert13b=function(t,o,f,h){for(var u=0,m=0;m<o;m++)u=u+(t[m]|0),f[2*m]=u&8191,u=u>>>13,f[2*m+1]=u&8191,u=u>>>13;for(m=2*o;m<h;++m)f[m]=0;e(u===0),e((u&-8192)===0)},wt.prototype.stub=function(t){for(var o=new Array(t),f=0;f<t;f++)o[f]=0;return o},wt.prototype.mulp=function(t,o,f){var h=2*this.guessLen13b(t.length,o.length),u=this.makeRBT(h),m=this.stub(h),g=new Array(h),l=new Array(h),n=new Array(h),c=new Array(h),w=new Array(h),M=new Array(h),A=f.words;A.length=h,this.convert13b(t.words,t.length,g,h),this.convert13b(o.words,o.length,c,h),this.transform(g,m,l,n,h,u),this.transform(c,m,w,M,h,u);for(var T=0;T<h;T++){var I=l[T]*w[T]-n[T]*M[T];n[T]=l[T]*M[T]+n[T]*w[T],l[T]=I}return this.conjugate(l,n,h),this.transform(l,n,A,m,h,u),this.conjugate(A,m,h),this.normalize13b(A,h),f.negative=t.negative^o.negative,f.length=t.length+o.length,f._strip()},i.prototype.mul=function(t){var o=new i(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},i.prototype.mulf=function(t){var o=new i(null);return o.words=new Array(this.length+t.length),ur(this,t,o)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var o=t<0;o&&(t=-t),e(typeof t=="number"),e(t<67108864);for(var f=0,h=0;h<this.length;h++){var u=(this.words[h]|0)*t,m=(u&67108863)+(f&67108863);f>>=26,f+=u/67108864|0,f+=m>>>26,this.words[h]=m&67108863}return f!==0&&(this.words[h]=f,this.length++),o?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var o=_t(t);if(o.length===0)return new i(1);for(var f=this,h=0;h<o.length&&o[h]===0;h++,f=f.sqr());if(++h<o.length)for(var u=f.sqr();h<o.length;h++,u=u.sqr())o[h]!==0&&(f=f.mul(u));return f},i.prototype.iushln=function(t){e(typeof t=="number"&&t>=0);var o=t%26,f=(t-o)/26,h=67108863>>>26-o<<26-o,u;if(o!==0){var m=0;for(u=0;u<this.length;u++){var g=this.words[u]&h,l=(this.words[u]|0)-g<<o;this.words[u]=l|m,m=g>>>26-o}m&&(this.words[u]=m,this.length++)}if(f!==0){for(u=this.length-1;u>=0;u--)this.words[u+f]=this.words[u];for(u=0;u<f;u++)this.words[u]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(t){return e(this.negative===0),this.iushln(t)},i.prototype.iushrn=function(t,o,f){e(typeof t=="number"&&t>=0);var h;o?h=(o-o%26)/26:h=0;var u=t%26,m=Math.min((t-u)/26,this.length),g=67108863^67108863>>>u<<u,l=f;if(h-=m,h=Math.max(0,h),l){for(var n=0;n<m;n++)l.words[n]=this.words[n];l.length=m}if(m!==0)if(this.length>m)for(this.length-=m,n=0;n<this.length;n++)this.words[n]=this.words[n+m];else this.words[0]=0,this.length=1;var c=0;for(n=this.length-1;n>=0&&(c!==0||n>=h);n--){var w=this.words[n]|0;this.words[n]=c<<26-u|w>>>u,c=w&g}return l&&c!==0&&(l.words[l.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,o,f){return e(this.negative===0),this.iushrn(t,o,f)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){e(typeof t=="number"&&t>=0);var o=t%26,f=(t-o)/26,h=1<<o;if(this.length<=f)return!1;var u=this.words[f];return!!(u&h)},i.prototype.imaskn=function(t){e(typeof t=="number"&&t>=0);var o=t%26,f=(t-o)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(o!==0&&f++,this.length=Math.min(f,this.length),o!==0){var h=67108863^67108863>>>o<<o;this.words[this.length-1]&=h}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return e(typeof t=="number"),e(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},i.prototype.isubn=function(t){if(e(typeof t=="number"),e(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,o,f){var h=t.length+f,u;this._expand(h);var m,g=0;for(u=0;u<t.length;u++){m=(this.words[u+f]|0)+g;var l=(t.words[u]|0)*o;m-=l&67108863,g=(m>>26)-(l/67108864|0),this.words[u+f]=m&67108863}for(;u<this.length-f;u++)m=(this.words[u+f]|0)+g,g=m>>26,this.words[u+f]=m&67108863;if(g===0)return this._strip();for(e(g===-1),g=0,u=0;u<this.length;u++)m=-(this.words[u]|0)+g,g=m>>26,this.words[u]=m&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,o){var f=this.length-t.length,h=this.clone(),u=t,m=u.words[u.length-1]|0,g=this._countBits(m);f=26-g,f!==0&&(u=u.ushln(f),h.iushln(f),m=u.words[u.length-1]|0);var l=h.length-u.length,n;if(o!=="mod"){n=new i(null),n.length=l+1,n.words=new Array(n.length);for(var c=0;c<n.length;c++)n.words[c]=0}var w=h.clone()._ishlnsubmul(u,1,l);w.negative===0&&(h=w,n&&(n.words[l]=1));for(var M=l-1;M>=0;M--){var A=(h.words[u.length+M]|0)*67108864+(h.words[u.length+M-1]|0);for(A=Math.min(A/m|0,67108863),h._ishlnsubmul(u,A,M);h.negative!==0;)A--,h.negative=0,h._ishlnsubmul(u,1,M),h.isZero()||(h.negative^=1);n&&(n.words[M]=A)}return n&&n._strip(),h._strip(),o!=="div"&&f!==0&&h.iushrn(f),{div:n||null,mod:h}},i.prototype.divmod=function(t,o,f){if(e(!t.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,u,m;return this.negative!==0&&t.negative===0?(m=this.neg().divmod(t,o),o!=="mod"&&(h=m.div.neg()),o!=="div"&&(u=m.mod.neg(),f&&u.negative!==0&&u.iadd(t)),{div:h,mod:u}):this.negative===0&&t.negative!==0?(m=this.divmod(t.neg(),o),o!=="mod"&&(h=m.div.neg()),{div:h,mod:m.mod}):(this.negative&t.negative)!==0?(m=this.neg().divmod(t.neg(),o),o!=="div"&&(u=m.mod.neg(),f&&u.negative!==0&&u.isub(t)),{div:m.div,mod:u}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,o)},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var f=o.div.negative!==0?o.mod.isub(t):o.mod,h=t.ushrn(1),u=t.andln(1),m=f.cmp(h);return m<0||u===1&&m===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},i.prototype.modrn=function(t){var o=t<0;o&&(t=-t),e(t<=67108863);for(var f=(1<<26)%t,h=0,u=this.length-1;u>=0;u--)h=(f*h+(this.words[u]|0))%t;return o?-h:h},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var o=t<0;o&&(t=-t),e(t<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var u=(this.words[h]|0)+f*67108864;this.words[h]=u/t|0,f=u%t}return this._strip(),o?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){e(t.negative===0),e(!t.isZero());var o=this,f=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var h=new i(1),u=new i(0),m=new i(0),g=new i(1),l=0;o.isEven()&&f.isEven();)o.iushrn(1),f.iushrn(1),++l;for(var n=f.clone(),c=o.clone();!o.isZero();){for(var w=0,M=1;(o.words[0]&M)===0&&w<26;++w,M<<=1);if(w>0)for(o.iushrn(w);w-- >0;)(h.isOdd()||u.isOdd())&&(h.iadd(n),u.isub(c)),h.iushrn(1),u.iushrn(1);for(var A=0,T=1;(f.words[0]&T)===0&&A<26;++A,T<<=1);if(A>0)for(f.iushrn(A);A-- >0;)(m.isOdd()||g.isOdd())&&(m.iadd(n),g.isub(c)),m.iushrn(1),g.iushrn(1);o.cmp(f)>=0?(o.isub(f),h.isub(m),u.isub(g)):(f.isub(o),m.isub(h),g.isub(u))}return{a:m,b:g,gcd:f.iushln(l)}},i.prototype._invmp=function(t){e(t.negative===0),e(!t.isZero());var o=this,f=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var h=new i(1),u=new i(0),m=f.clone();o.cmpn(1)>0&&f.cmpn(1)>0;){for(var g=0,l=1;(o.words[0]&l)===0&&g<26;++g,l<<=1);if(g>0)for(o.iushrn(g);g-- >0;)h.isOdd()&&h.iadd(m),h.iushrn(1);for(var n=0,c=1;(f.words[0]&c)===0&&n<26;++n,c<<=1);if(n>0)for(f.iushrn(n);n-- >0;)u.isOdd()&&u.iadd(m),u.iushrn(1);o.cmp(f)>=0?(o.isub(f),h.isub(u)):(f.isub(o),u.isub(h))}var w;return o.cmpn(1)===0?w=h:w=u,w.cmpn(0)<0&&w.iadd(t),w},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),f=t.clone();o.negative=0,f.negative=0;for(var h=0;o.isEven()&&f.isEven();h++)o.iushrn(1),f.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;f.isEven();)f.iushrn(1);var u=o.cmp(f);if(u<0){var m=o;o=f,f=m}else if(u===0||f.cmpn(1)===0)break;o.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){e(typeof t=="number");var o=t%26,f=(t-o)/26,h=1<<o;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var u=h,m=f;u!==0&&m<this.length;m++){var g=this.words[m]|0;g+=u,u=g>>>26,g&=67108863,this.words[m]=g}return u!==0&&(this.words[m]=u,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this._strip();var f;if(this.length>1)f=1;else{o&&(t=-t),e(t<=67108863,"Number is too big");var h=this.words[0]|0;f=h===t?0:h<t?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,u=t.words[f]|0;if(h!==u){h<u?o=-1:h>u&&(o=1);break}}return o},i.prototype.gtn=function(t){return this.cmpn(t)===1},i.prototype.gt=function(t){return this.cmp(t)===1},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return this.cmpn(t)===-1},i.prototype.lt=function(t){return this.cmp(t)===-1},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return this.cmpn(t)===0},i.prototype.eq=function(t){return this.cmp(t)===0},i.red=function(t){return new U(t)},i.prototype.toRed=function(t){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return e(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return e(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var $t={k256:null,p224:null,p192:null,p25519:null};function bt(d,t){this.name=d,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}bt.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},bt.prototype.ireduce=function(t){var o=t,f;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),f=o.bitLength();while(f>this.n);var h=f<this.n?-1:o.ucmp(this.p);return h===0?(o.words[0]=0,o.length=1):h>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},bt.prototype.split=function(t,o){t.iushrn(this.n,0,o)},bt.prototype.imulK=function(t){return t.imul(this.k)};function Ut(){bt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Ut,bt),Ut.prototype.split=function(t,o){for(var f=4194303,h=Math.min(t.length,9),u=0;u<h;u++)o.words[u]=t.words[u];if(o.length=h,t.length<=9){t.words[0]=0,t.length=1;return}var m=t.words[9];for(o.words[o.length++]=m&f,u=10;u<t.length;u++){var g=t.words[u]|0;t.words[u-10]=(g&f)<<4|m>>>22,m=g}m>>>=22,t.words[u-10]=m,m===0&&t.length>10?t.length-=10:t.length-=9},Ut.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,f=0;f<t.length;f++){var h=t.words[f]|0;o+=h*977,t.words[f]=o&67108863,o=h*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Yt(){bt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Yt,bt);function Or(){bt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Or,bt);function lr(){bt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(lr,bt),lr.prototype.imulK=function(t){for(var o=0,f=0;f<t.length;f++){var h=(t.words[f]|0)*19+o,u=h&67108863;h>>>=26,t.words[f]=u,o=h}return o!==0&&(t.words[t.length++]=o),t},i._prime=function(t){if($t[t])return $t[t];var o;if(t==="k256")o=new Ut;else if(t==="p224")o=new Yt;else if(t==="p192")o=new Or;else if(t==="p25519")o=new lr;else throw new Error("Unknown prime "+t);return $t[t]=o,o};function U(d){if(typeof d=="string"){var t=i._prime(d);this.m=t.p,this.prime=t}else e(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}U.prototype._verify1=function(t){e(t.negative===0,"red works only with positives"),e(t.red,"red works only with red numbers")},U.prototype._verify2=function(t,o){e((t.negative|o.negative)===0,"red works only with positives"),e(t.red&&t.red===o.red,"red works only with red numbers")},U.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(b(t,t.umod(this.m)._forceRed(this)),t)},U.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},U.prototype.add=function(t,o){this._verify2(t,o);var f=t.add(o);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},U.prototype.iadd=function(t,o){this._verify2(t,o);var f=t.iadd(o);return f.cmp(this.m)>=0&&f.isub(this.m),f},U.prototype.sub=function(t,o){this._verify2(t,o);var f=t.sub(o);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},U.prototype.isub=function(t,o){this._verify2(t,o);var f=t.isub(o);return f.cmpn(0)<0&&f.iadd(this.m),f},U.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},U.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},U.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},U.prototype.isqr=function(t){return this.imul(t,t.clone())},U.prototype.sqr=function(t){return this.mul(t,t)},U.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(e(o%2===1),o===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(t,f)}for(var h=this.m.subn(1),u=0;!h.isZero()&&h.andln(1)===0;)u++,h.iushrn(1);e(!h.isZero());var m=new i(1).toRed(this),g=m.redNeg(),l=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new i(2*n*n).toRed(this);this.pow(n,l).cmp(g)!==0;)n.redIAdd(g);for(var c=this.pow(n,h),w=this.pow(t,h.addn(1).iushrn(1)),M=this.pow(t,h),A=u;M.cmp(m)!==0;){for(var T=M,I=0;T.cmp(m)!==0;I++)T=T.redSqr();e(I<A);var B=this.pow(c,new i(1).iushln(A-I-1));w=w.redMul(B),c=B.redSqr(),M=M.redMul(c),A=I}return w},U.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},U.prototype.pow=function(t,o){if(o.isZero())return new i(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=t;for(var u=2;u<h.length;u++)h[u]=this.mul(h[u-1],t);var m=h[0],g=0,l=0,n=o.bitLength()%26;for(n===0&&(n=26),u=o.length-1;u>=0;u--){for(var c=o.words[u],w=n-1;w>=0;w--){var M=c>>w&1;if(m!==h[0]&&(m=this.sqr(m)),M===0&&g===0){l=0;continue}g<<=1,g|=M,l++,!(l!==f&&(u!==0||w!==0))&&(m=this.mul(m,h[g]),l=0,g=0)}n=26}return m},U.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},U.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},i.mont=function(t){return new Dt(t)};function Dt(d){U.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Dt,U),Dt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Dt.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},Dt.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var f=t.imul(o),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=f.isub(h).iushrn(this.shift),m=u;return u.cmp(this.m)>=0?m=u.isub(this.m):u.cmpn(0)<0&&(m=u.iadd(this.m)),m._forceRed(this)},Dt.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new i(0)._forceRed(this);var f=t.mul(o),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=f.isub(h).iushrn(this.shift),m=u;return u.cmp(this.m)>=0?m=u.isub(this.m):u.cmpn(0)<0&&(m=u.iadd(this.m)),m._forceRed(this)},Dt.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(typeof be>"u"||be,pn)});var Mr=At((La,On)=>{On.exports=In;function In(s,r){if(!s)throw new Error(r||"Assertion failed")}In.equal=function(r,e,a){if(r!=e)throw new Error(a||"Assertion failed: "+r+" != "+e)}});var Rn=At((Va,Me)=>{typeof Object.create=="function"?Me.exports=function(r,e){e&&(r.super_=e,r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:Me.exports=function(r,e){if(e){r.super_=e;var a=function(){};a.prototype=e.prototype,r.prototype=new a,r.prototype.constructor=r}}});var Sn=At((qa,_e)=>{try{if(Ae=je("util"),typeof Ae.inherits!="function")throw"";_e.exports=Ae.inherits}catch{_e.exports=Rn()}var Ae});var Bt=At(O=>{"use strict";var Oi=Mr(),Ri=Sn();O.inherits=Ri;function Si(s,r){return(s.charCodeAt(r)&64512)!==55296||r<0||r+1>=s.length?!1:(s.charCodeAt(r+1)&64512)===56320}function Bi(s,r){if(Array.isArray(s))return s.slice();if(!s)return[];var e=[];if(typeof s=="string")if(r){if(r==="hex")for(s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s),i=0;i<s.length;i+=2)e.push(parseInt(s[i]+s[i+1],16))}else for(var a=0,i=0;i<s.length;i++){var p=s.charCodeAt(i);p<128?e[a++]=p:p<2048?(e[a++]=p>>6|192,e[a++]=p&63|128):Si(s,i)?(p=65536+((p&1023)<<10)+(s.charCodeAt(++i)&1023),e[a++]=p>>18|240,e[a++]=p>>12&63|128,e[a++]=p>>6&63|128,e[a++]=p&63|128):(e[a++]=p>>12|224,e[a++]=p>>6&63|128,e[a++]=p&63|128)}else for(i=0;i<s.length;i++)e[i]=s[i]|0;return e}O.toArray=Bi;function Pi(s){for(var r="",e=0;e<s.length;e++)r+=Pn(s[e].toString(16));return r}O.toHex=Pi;function Bn(s){var r=s>>>24|s>>>8&65280|s<<8&16711680|(s&255)<<24;return r>>>0}O.htonl=Bn;function Fi(s,r){for(var e="",a=0;a<s.length;a++){var i=s[a];r==="little"&&(i=Bn(i)),e+=Fn(i.toString(16))}return e}O.toHex32=Fi;function Pn(s){return s.length===1?"0"+s:s}O.zero2=Pn;function Fn(s){return s.length===7?"0"+s:s.length===6?"00"+s:s.length===5?"000"+s:s.length===4?"0000"+s:s.length===3?"00000"+s:s.length===2?"000000"+s:s.length===1?"0000000"+s:s}O.zero8=Fn;function Ui(s,r,e,a){var i=e-r;Oi(i%4===0);for(var p=new Array(i/4),y=0,v=r;y<p.length;y++,v+=4){var x;a==="big"?x=s[v]<<24|s[v+1]<<16|s[v+2]<<8|s[v+3]:x=s[v+3]<<24|s[v+2]<<16|s[v+1]<<8|s[v],p[y]=x>>>0}return p}O.join32=Ui;function Di(s,r){for(var e=new Array(s.length*4),a=0,i=0;a<s.length;a++,i+=4){var p=s[a];r==="big"?(e[i]=p>>>24,e[i+1]=p>>>16&255,e[i+2]=p>>>8&255,e[i+3]=p&255):(e[i+3]=p>>>24,e[i+2]=p>>>16&255,e[i+1]=p>>>8&255,e[i]=p&255)}return e}O.split32=Di;function ki(s,r){return s>>>r|s<<32-r}O.rotr32=ki;function Li(s,r){return s<<r|s>>>32-r}O.rotl32=Li;function Vi(s,r){return s+r>>>0}O.sum32=Vi;function qi(s,r,e){return s+r+e>>>0}O.sum32_3=qi;function Ji(s,r,e,a){return s+r+e+a>>>0}O.sum32_4=Ji;function zi(s,r,e,a,i){return s+r+e+a+i>>>0}O.sum32_5=zi;function Hi(s,r,e,a){var i=s[r],p=s[r+1],y=a+p>>>0,v=(y<a?1:0)+e+i;s[r]=v>>>0,s[r+1]=y}O.sum64=Hi;function Zi(s,r,e,a){var i=r+a>>>0,p=(i<r?1:0)+s+e;return p>>>0}O.sum64_hi=Zi;function $i(s,r,e,a){var i=r+a;return i>>>0}O.sum64_lo=$i;function Wi(s,r,e,a,i,p,y,v){var x=0,b=r;b=b+a>>>0,x+=b<r?1:0,b=b+p>>>0,x+=b<p?1:0,b=b+v>>>0,x+=b<v?1:0;var _=s+e+i+y+x;return _>>>0}O.sum64_4_hi=Wi;function Gi(s,r,e,a,i,p,y,v){var x=r+a+p+v;return x>>>0}O.sum64_4_lo=Gi;function Ki(s,r,e,a,i,p,y,v,x,b){var _=0,E=r;E=E+a>>>0,_+=E<r?1:0,E=E+p>>>0,_+=E<p?1:0,E=E+v>>>0,_+=E<v?1:0,E=E+b>>>0,_+=E<b?1:0;var R=s+e+i+y+x+_;return R>>>0}O.sum64_5_hi=Ki;function Xi(s,r,e,a,i,p,y,v,x,b){var _=r+a+p+v+b;return _>>>0}O.sum64_5_lo=Xi;function Yi(s,r,e){var a=r<<32-e|s>>>e;return a>>>0}O.rotr64_hi=Yi;function Qi(s,r,e){var a=s<<32-e|r>>>e;return a>>>0}O.rotr64_lo=Qi;function ji(s,r,e){return s>>>e}O.shr64_hi=ji;function to(s,r,e){var a=s<<32-e|r>>>e;return a>>>0}O.shr64_lo=to});var Ar=At(Dn=>{"use strict";var Un=Bt(),ro=Mr();function Kr(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Dn.BlockHash=Kr;Kr.prototype.update=function(r,e){if(r=Un.toArray(r,e),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){r=this.pending;var a=r.length%this._delta8;this.pending=r.slice(r.length-a,r.length),this.pending.length===0&&(this.pending=null),r=Un.join32(r,0,r.length-a,this.endian);for(var i=0;i<r.length;i+=this._delta32)this._update(r,i,i+this._delta32)}return this};Kr.prototype.digest=function(r){return this.update(this._pad()),ro(this.pending===null),this._digest(r)};Kr.prototype._pad=function(){var r=this.pendingTotal,e=this._delta8,a=e-(r+this.padLength)%e,i=new Array(a+this.padLength);i[0]=128;for(var p=1;p<a;p++)i[p]=0;if(r<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)i[p++]=0;i[p++]=0,i[p++]=0,i[p++]=0,i[p++]=0,i[p++]=r>>>24&255,i[p++]=r>>>16&255,i[p++]=r>>>8&255,i[p++]=r&255}else for(i[p++]=r&255,i[p++]=r>>>8&255,i[p++]=r>>>16&255,i[p++]=r>>>24&255,i[p++]=0,i[p++]=0,i[p++]=0,i[p++]=0,y=8;y<this.padLength;y++)i[p++]=0;return i}});var Ee=At(Wt=>{"use strict";var eo=Bt(),Vt=eo.rotr32;function no(s,r,e,a){if(s===0)return kn(r,e,a);if(s===1||s===3)return Vn(r,e,a);if(s===2)return Ln(r,e,a)}Wt.ft_1=no;function kn(s,r,e){return s&r^~s&e}Wt.ch32=kn;function Ln(s,r,e){return s&r^s&e^r&e}Wt.maj32=Ln;function Vn(s,r,e){return s^r^e}Wt.p32=Vn;function io(s){return Vt(s,2)^Vt(s,13)^Vt(s,22)}Wt.s0_256=io;function oo(s){return Vt(s,6)^Vt(s,11)^Vt(s,25)}Wt.s1_256=oo;function so(s){return Vt(s,7)^Vt(s,18)^s>>>3}Wt.g0_256=so;function ao(s){return Vt(s,17)^Vt(s,19)^s>>>10}Wt.g1_256=ao});var zn=At((Za,Jn)=>{"use strict";var _r=Bt(),fo=Ar(),ho=Ee(),Te=_r.rotl32,Vr=_r.sum32,uo=_r.sum32_5,lo=ho.ft_1,qn=fo.BlockHash,co=[1518500249,1859775393,2400959708,3395469782];function qt(){if(!(this instanceof qt))return new qt;qn.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_r.inherits(qt,qn);Jn.exports=qt;qt.blockSize=512;qt.outSize=160;qt.hmacStrength=80;qt.padLength=64;qt.prototype._update=function(r,e){for(var a=this.W,i=0;i<16;i++)a[i]=r[e+i];for(;i<a.length;i++)a[i]=Te(a[i-3]^a[i-8]^a[i-14]^a[i-16],1);var p=this.h[0],y=this.h[1],v=this.h[2],x=this.h[3],b=this.h[4];for(i=0;i<a.length;i++){var _=~~(i/20),E=uo(Te(p,5),lo(_,y,v,x),b,a[i],co[_]);b=x,x=v,v=Te(y,30),y=p,p=E}this.h[0]=Vr(this.h[0],p),this.h[1]=Vr(this.h[1],y),this.h[2]=Vr(this.h[2],v),this.h[3]=Vr(this.h[3],x),this.h[4]=Vr(this.h[4],b)};qt.prototype._digest=function(r){return r==="hex"?_r.toHex32(this.h,"big"):_r.split32(this.h,"big")}});var Ne=At(($a,Zn)=>{"use strict";var Er=Bt(),po=Ar(),Tr=Ee(),mo=Mr(),Pt=Er.sum32,go=Er.sum32_4,yo=Er.sum32_5,vo=Tr.ch32,xo=Tr.maj32,bo=Tr.s0_256,wo=Tr.s1_256,Mo=Tr.g0_256,Ao=Tr.g1_256,Hn=po.BlockHash,_o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Jt(){if(!(this instanceof Jt))return new Jt;Hn.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_o,this.W=new Array(64)}Er.inherits(Jt,Hn);Zn.exports=Jt;Jt.blockSize=512;Jt.outSize=256;Jt.hmacStrength=192;Jt.padLength=64;Jt.prototype._update=function(r,e){for(var a=this.W,i=0;i<16;i++)a[i]=r[e+i];for(;i<a.length;i++)a[i]=go(Ao(a[i-2]),a[i-7],Mo(a[i-15]),a[i-16]);var p=this.h[0],y=this.h[1],v=this.h[2],x=this.h[3],b=this.h[4],_=this.h[5],E=this.h[6],R=this.h[7];for(mo(this.k.length===a.length),i=0;i<a.length;i++){var C=yo(R,wo(b),vo(b,_,E),this.k[i],a[i]),S=Pt(bo(p),xo(p,y,v));R=E,E=_,_=b,b=Pt(x,C),x=v,v=y,y=p,p=Pt(C,S)}this.h[0]=Pt(this.h[0],p),this.h[1]=Pt(this.h[1],y),this.h[2]=Pt(this.h[2],v),this.h[3]=Pt(this.h[3],x),this.h[4]=Pt(this.h[4],b),this.h[5]=Pt(this.h[5],_),this.h[6]=Pt(this.h[6],E),this.h[7]=Pt(this.h[7],R)};Jt.prototype._digest=function(r){return r==="hex"?Er.toHex32(this.h,"big"):Er.split32(this.h,"big")}});var Gn=At((Wa,Wn)=>{"use strict";var Ce=Bt(),$n=Ne();function Gt(){if(!(this instanceof Gt))return new Gt;$n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ce.inherits(Gt,$n);Wn.exports=Gt;Gt.blockSize=512;Gt.outSize=224;Gt.hmacStrength=192;Gt.padLength=64;Gt.prototype._digest=function(r){return r==="hex"?Ce.toHex32(this.h.slice(0,7),"big"):Ce.split32(this.h.slice(0,7),"big")}});var Re=At((Ga,Qn)=>{"use strict";var Ct=Bt(),Eo=Ar(),To=Mr(),zt=Ct.rotr64_hi,Ht=Ct.rotr64_lo,Kn=Ct.shr64_hi,Xn=Ct.shr64_lo,nr=Ct.sum64,Ie=Ct.sum64_hi,Oe=Ct.sum64_lo,No=Ct.sum64_4_hi,Co=Ct.sum64_4_lo,Io=Ct.sum64_5_hi,Oo=Ct.sum64_5_lo,Yn=Eo.BlockHash,Ro=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ft(){if(!(this instanceof Ft))return new Ft;Yn.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ro,this.W=new Array(160)}Ct.inherits(Ft,Yn);Qn.exports=Ft;Ft.blockSize=1024;Ft.outSize=512;Ft.hmacStrength=192;Ft.padLength=128;Ft.prototype._prepareBlock=function(r,e){for(var a=this.W,i=0;i<32;i++)a[i]=r[e+i];for(;i<a.length;i+=2){var p=Jo(a[i-4],a[i-3]),y=zo(a[i-4],a[i-3]),v=a[i-14],x=a[i-13],b=Vo(a[i-30],a[i-29]),_=qo(a[i-30],a[i-29]),E=a[i-32],R=a[i-31];a[i]=No(p,y,v,x,b,_,E,R),a[i+1]=Co(p,y,v,x,b,_,E,R)}};Ft.prototype._update=function(r,e){this._prepareBlock(r,e);var a=this.W,i=this.h[0],p=this.h[1],y=this.h[2],v=this.h[3],x=this.h[4],b=this.h[5],_=this.h[6],E=this.h[7],R=this.h[8],C=this.h[9],S=this.h[10],_t=this.h[11],Ot=this.h[12],Xt=this.h[13],hr=this.h[14],ur=this.h[15];To(this.k.length===a.length);for(var wt=0;wt<a.length;wt+=2){var $t=hr,bt=ur,Ut=ko(R,C),Yt=Lo(R,C),Or=So(R,C,S,_t,Ot,Xt),lr=Bo(R,C,S,_t,Ot,Xt),U=this.k[wt],Dt=this.k[wt+1],d=a[wt],t=a[wt+1],o=Io($t,bt,Ut,Yt,Or,lr,U,Dt,d,t),f=Oo($t,bt,Ut,Yt,Or,lr,U,Dt,d,t);$t=Uo(i,p),bt=Do(i,p),Ut=Po(i,p,y,v,x,b),Yt=Fo(i,p,y,v,x,b);var h=Ie($t,bt,Ut,Yt),u=Oe($t,bt,Ut,Yt);hr=Ot,ur=Xt,Ot=S,Xt=_t,S=R,_t=C,R=Ie(_,E,o,f),C=Oe(E,E,o,f),_=x,E=b,x=y,b=v,y=i,v=p,i=Ie(o,f,h,u),p=Oe(o,f,h,u)}nr(this.h,0,i,p),nr(this.h,2,y,v),nr(this.h,4,x,b),nr(this.h,6,_,E),nr(this.h,8,R,C),nr(this.h,10,S,_t),nr(this.h,12,Ot,Xt),nr(this.h,14,hr,ur)};Ft.prototype._digest=function(r){return r==="hex"?Ct.toHex32(this.h,"big"):Ct.split32(this.h,"big")};function So(s,r,e,a,i){var p=s&e^~s&i;return p<0&&(p+=4294967296),p}function Bo(s,r,e,a,i,p){var y=r&a^~r&p;return y<0&&(y+=4294967296),y}function Po(s,r,e,a,i){var p=s&e^s&i^e&i;return p<0&&(p+=4294967296),p}function Fo(s,r,e,a,i,p){var y=r&a^r&p^a&p;return y<0&&(y+=4294967296),y}function Uo(s,r){var e=zt(s,r,28),a=zt(r,s,2),i=zt(r,s,7),p=e^a^i;return p<0&&(p+=4294967296),p}function Do(s,r){var e=Ht(s,r,28),a=Ht(r,s,2),i=Ht(r,s,7),p=e^a^i;return p<0&&(p+=4294967296),p}function ko(s,r){var e=zt(s,r,14),a=zt(s,r,18),i=zt(r,s,9),p=e^a^i;return p<0&&(p+=4294967296),p}function Lo(s,r){var e=Ht(s,r,14),a=Ht(s,r,18),i=Ht(r,s,9),p=e^a^i;return p<0&&(p+=4294967296),p}function Vo(s,r){var e=zt(s,r,1),a=zt(s,r,8),i=Kn(s,r,7),p=e^a^i;return p<0&&(p+=4294967296),p}function qo(s,r){var e=Ht(s,r,1),a=Ht(s,r,8),i=Xn(s,r,7),p=e^a^i;return p<0&&(p+=4294967296),p}function Jo(s,r){var e=zt(s,r,19),a=zt(r,s,29),i=Kn(s,r,6),p=e^a^i;return p<0&&(p+=4294967296),p}function zo(s,r){var e=Ht(s,r,19),a=Ht(r,s,29),i=Xn(s,r,6),p=e^a^i;return p<0&&(p+=4294967296),p}});var ri=At((Ka,ti)=>{"use strict";var Se=Bt(),jn=Re();function Kt(){if(!(this instanceof Kt))return new Kt;jn.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Se.inherits(Kt,jn);ti.exports=Kt;Kt.blockSize=1024;Kt.outSize=384;Kt.hmacStrength=192;Kt.padLength=128;Kt.prototype._digest=function(r){return r==="hex"?Se.toHex32(this.h.slice(0,12),"big"):Se.split32(this.h.slice(0,12),"big")}});var ei=At(Nr=>{"use strict";Nr.sha1=zn();Nr.sha224=Gn();Nr.sha256=Ne();Nr.sha384=ri();Nr.sha512=Re()});var fi=At(ai=>{"use strict";var fr=Bt(),Ho=Ar(),Xr=fr.rotl32,ni=fr.sum32,qr=fr.sum32_3,ii=fr.sum32_4,si=Ho.BlockHash;function Zt(){if(!(this instanceof Zt))return new Zt;si.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}fr.inherits(Zt,si);ai.ripemd160=Zt;Zt.blockSize=512;Zt.outSize=160;Zt.hmacStrength=192;Zt.padLength=64;Zt.prototype._update=function(r,e){for(var a=this.h[0],i=this.h[1],p=this.h[2],y=this.h[3],v=this.h[4],x=a,b=i,_=p,E=y,R=v,C=0;C<80;C++){var S=ni(Xr(ii(a,oi(C,i,p,y),r[Wo[C]+e],Zo(C)),Ko[C]),v);a=v,v=y,y=Xr(p,10),p=i,i=S,S=ni(Xr(ii(x,oi(79-C,b,_,E),r[Go[C]+e],$o(C)),Xo[C]),R),x=R,R=E,E=Xr(_,10),_=b,b=S}S=qr(this.h[1],p,E),this.h[1]=qr(this.h[2],y,R),this.h[2]=qr(this.h[3],v,x),this.h[3]=qr(this.h[4],a,b),this.h[4]=qr(this.h[0],i,_),this.h[0]=S};Zt.prototype._digest=function(r){return r==="hex"?fr.toHex32(this.h,"little"):fr.split32(this.h,"little")};function oi(s,r,e,a){return s<=15?r^e^a:s<=31?r&e|~r&a:s<=47?(r|~e)^a:s<=63?r&a|e&~a:r^(e|~a)}function Zo(s){return s<=15?0:s<=31?1518500249:s<=47?1859775393:s<=63?2400959708:2840853838}function $o(s){return s<=15?1352829926:s<=31?1548603684:s<=47?1836072691:s<=63?2053994217:0}var Wo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Go=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ko=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Xo=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var ui=At((Qa,hi)=>{"use strict";var Yo=Bt(),Qo=Mr();function Cr(s,r,e){if(!(this instanceof Cr))return new Cr(s,r,e);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(Yo.toArray(r,e))}hi.exports=Cr;Cr.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),Qo(r.length<=this.blockSize);for(var e=r.length;e<this.blockSize;e++)r.push(0);for(e=0;e<r.length;e++)r[e]^=54;for(this.inner=new this.Hash().update(r),e=0;e<r.length;e++)r[e]^=106;this.outer=new this.Hash().update(r)};Cr.prototype.update=function(r,e){return this.inner.update(r,e),this};Cr.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)}});var ci=At(li=>{var Mt=li;Mt.utils=Bt();Mt.common=Ar();Mt.sha=ei();Mt.ripemd=fi();Mt.hmac=ui();Mt.sha1=Mt.sha.sha1;Mt.sha256=Mt.sha.sha256;Mt.sha224=Mt.sha.sha224;Mt.sha384=Mt.sha.sha384;Mt.sha512=Mt.sha.sha512;Mt.ripemd160=Mt.ripemd.ripemd160});var en="logger/5.7.0";var nn=!1,on=!1,Jr={debug:1,default:2,info:2,warning:3,error:4,off:5},sn=Jr.default,ye=null;function Mi(){try{let s=[];if(["NFD","NFC","NFKD","NFKC"].forEach(r=>{try{if("test".normalize(r)!=="test")throw new Error("bad normalize")}catch{s.push(r)}}),s.length)throw new Error("missing "+s.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(s){return s.message}return null}var an=Mi(),ve;(function(s){s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.OFF="OFF"})(ve||(ve={}));var Rt;(function(s){s.UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.SERVER_ERROR="SERVER_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.CALL_EXCEPTION="CALL_EXCEPTION",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s.NONCE_EXPIRED="NONCE_EXPIRED",s.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",s.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",s.TRANSACTION_REPLACED="TRANSACTION_REPLACED",s.ACTION_REJECTED="ACTION_REJECTED"})(Rt||(Rt={}));var fn="0123456789abcdef",N=class{constructor(r){Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}_log(r,e){let a=r.toLowerCase();Jr[a]==null&&this.throwArgumentError("invalid log level name","logLevel",r),!(sn>Jr[a])&&console.log.apply(console,e)}debug(...r){this._log(N.levels.DEBUG,r)}info(...r){this._log(N.levels.INFO,r)}warn(...r){this._log(N.levels.WARNING,r)}makeError(r,e,a){if(on)return this.makeError("censored error",e,{});e||(e=N.errors.UNKNOWN_ERROR),a||(a={});let i=[];Object.keys(a).forEach(x=>{let b=a[x];try{if(b instanceof Uint8Array){let _="";for(let E=0;E<b.length;E++)_+=fn[b[E]>>4],_+=fn[b[E]&15];i.push(x+"=Uint8Array(0x"+_+")")}else i.push(x+"="+JSON.stringify(b))}catch{i.push(x+"="+JSON.stringify(a[x].toString()))}}),i.push(`code=${e}`),i.push(`version=${this.version}`);let p=r,y="";switch(e){case Rt.NUMERIC_FAULT:{y="NUMERIC_FAULT";let x=r;switch(x){case"overflow":case"underflow":case"division-by-zero":y+="-"+x;break;case"negative-power":case"negative-width":y+="-unsupported";break;case"unbound-bitwise-result":y+="-unbound-result";break}break}case Rt.CALL_EXCEPTION:case Rt.INSUFFICIENT_FUNDS:case Rt.MISSING_NEW:case Rt.NONCE_EXPIRED:case Rt.REPLACEMENT_UNDERPRICED:case Rt.TRANSACTION_REPLACED:case Rt.UNPREDICTABLE_GAS_LIMIT:y=e;break}y&&(r+=" [ See: https://links.ethers.org/v5-errors-"+y+" ]"),i.length&&(r+=" ("+i.join(", ")+")");let v=new Error(r);return v.reason=p,v.code=e,Object.keys(a).forEach(function(x){v[x]=a[x]}),v}throwError(r,e,a){throw this.makeError(r,e,a)}throwArgumentError(r,e,a){return this.throwError(r,N.errors.INVALID_ARGUMENT,{argument:e,value:a})}assert(r,e,a,i){r||this.throwError(e,a,i)}assertArgument(r,e,a,i){r||this.throwArgumentError(e,a,i)}checkNormalize(r){r==null&&(r="platform missing String.prototype.normalize"),an&&this.throwError("platform missing String.prototype.normalize",N.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:an})}checkSafeUint53(r,e){typeof r=="number"&&(e==null&&(e="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(e,N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(e,N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}checkArgumentCount(r,e,a){a?a=": "+a:a="",r<e&&this.throwError("missing argument"+a,N.errors.MISSING_ARGUMENT,{count:r,expectedCount:e}),r>e&&this.throwError("too many arguments"+a,N.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:e})}checkNew(r,e){(r===Object||r==null)&&this.throwError("missing new",N.errors.MISSING_NEW,{name:e.name})}checkAbstract(r,e){r===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",N.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):(r===Object||r==null)&&this.throwError("missing new",N.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ye||(ye=new N(en)),ye}static setCensorship(r,e){if(!r&&e&&this.globalLogger().throwError("cannot permanently disable censorship",N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),nn){if(!r)return;this.globalLogger().throwError("error censorship permanent",N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}on=!!r,nn=!!e}static setLogLevel(r){let e=Jr[r.toLowerCase()];if(e==null){N.globalLogger().warn("invalid log level - "+r);return}sn=e}static from(r){return new N(r)}};N.errors=Rt;N.levels=ve;var Ai=new N("0.16.0"),F=class{constructor(r,e,a){this.name=r,this.type=e,this.encodedLength=a}throwError(r,e){throw Ai.throwArgumentError(r,this.name,e),new Error("unreachable")}setOffset(r){this.offset=r}};var hn="bytes/5.7.0";var cr=new N(hn);function ln(s){return!!s.toHexString}function Br(s){return s.slice||(s.slice=function(){let r=Array.prototype.slice.call(arguments);return Br(new Uint8Array(Array.prototype.slice.apply(s,r)))}),s}function un(s){return typeof s=="number"&&s==s&&s%1===0}function cn(s){if(s==null)return!1;if(s.constructor===Uint8Array)return!0;if(typeof s=="string"||!un(s.length)||s.length<0)return!1;for(let r=0;r<s.length;r++){let e=s[r];if(!un(e)||e<0||e>=256)return!1}return!0}function Tt(s,r){if(r||(r={}),typeof s=="number"){cr.checkSafeUint53(s,"invalid arrayify value");let e=[];for(;s;)e.unshift(s&255),s=parseInt(String(s/256));return e.length===0&&e.push(0),Br(new Uint8Array(e))}if(r.allowMissingPrefix&&typeof s=="string"&&s.substring(0,2)!=="0x"&&(s="0x"+s),ln(s)&&(s=s.toHexString()),dn(s)){let e=s.substring(2);e.length%2&&(r.hexPad==="left"?e="0"+e:r.hexPad==="right"?e+="0":cr.throwArgumentError("hex data is odd-length","value",s));let a=[];for(let i=0;i<e.length;i+=2)a.push(parseInt(e.substring(i,i+2),16));return Br(new Uint8Array(a))}return cn(s)?Br(new Uint8Array(s)):cr.throwArgumentError("invalid arrayify value","value",s)}function xt(s){let r=s.map(i=>Tt(i)),e=r.reduce((i,p)=>i+p.length,0),a=new Uint8Array(e);return r.reduce((i,p)=>(a.set(p,i),i+p.length),0),Br(a)}function dn(s,r){return!(typeof s!="string"||!s.match(/^0x[0-9A-Fa-f]*$/)||r&&s.length!==2+2*r)}var xe="0123456789abcdef";function Pr(s,r){if(r||(r={}),typeof s=="number"){cr.checkSafeUint53(s,"invalid hexlify value");let e="";for(;s;)e=xe[s&15]+e,s=Math.floor(s/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(typeof s=="bigint")return s=s.toString(16),s.length%2?"0x0"+s:"0x"+s;if(r.allowMissingPrefix&&typeof s=="string"&&s.substring(0,2)!=="0x"&&(s="0x"+s),ln(s))return s.toHexString();if(dn(s))return s.length%2&&(r.hexPad==="left"?s="0x0"+s.substring(2):r.hexPad==="right"?s+="0":cr.throwArgumentError("hex data is odd-length","value",s)),s.toLowerCase();if(cn(s)){let e="0x";for(let a=0;a<s.length;a++){let i=s[a];e+=xe[(i&240)>>4]+xe[i&15]}return e}return cr.throwArgumentError("invalid hexlify value","value",s)}var dr=class extends F{constructor(e,a){super("array",`[${e.type}; ${a}]`,a*e.encodedLength);this.coder=e,this.length=a}encode(e){return Array.isArray(e)||this.throwError("expected array value",e),this.length!==e.length&&this.throwError("Types/values length mismatch",e),xt(Array.from(e).map(a=>this.coder.encode(a)))}decode(e,a){let i=a;return[Array(this.length).fill(0).map(()=>{let y;return[y,i]=this.coder.decode(e,i),y}),i]}};var Fr=tn(mn()),k=class extends Fr.default{constructor(r,e,a){if(k.isBN(r)){super(r.toArray(),e,a);return}if(typeof r=="string"&&r.slice(0,2)==="0x"){super(r.substring(2),e||"hex",a);return}super(r,e,a)}toString(r,e){let a=super.toString(r,e);return r===16||r==="hex"?`0x${a}`:a}toHex(r){let a=(r||0)*2;if(this.isNeg())throw new Error("cannot convert negative value to hex");if(r&&this.byteLength()>r)throw new Error(`value ${this} exceeds bytes ${r}`);return this.toString(16,a)}toBytes(r){if(this.isNeg())throw new Error("cannot convert negative value to Bytes");return Uint8Array.from(this.toArray(void 0,r))}toJSON(){return this.toString(16)}add(r){return this.caller(r,"add")}pow(r){return this.caller(r,"pow")}sub(r){return this.caller(r,"sub")}div(r){return this.caller(r,"div")}mul(r){return this.caller(r,"mul")}mod(r){return this.caller(r,"mod")}divRound(r){return this.caller(r,"divRound")}lt(r){return this.caller(r,"lt")}lte(r){return this.caller(r,"lte")}gt(r){return this.caller(r,"gt")}gte(r){return this.caller(r,"gte")}eq(r){return this.caller(r,"eq")}cmp(r){return this.caller(r,"cmp")}sqr(){return new k(super.sqr().toArray())}neg(){return new k(super.neg().toArray())}abs(){return new k(super.abs().toArray())}toTwos(r){return new k(super.toTwos(r).toArray())}fromTwos(r){return new k(super.fromTwos(r).toArray())}caller(r,e){let a=super[e](new k(r));return k.isBN(a)?new k(a.toArray()):a}clone(){return new k(this.toArray())}mulTo(r,e){let a=new Fr.default(this.toArray()).mulTo(r,e);return new k(a.toArray())}egcd(r){let{a:e,b:a,gcd:i}=new Fr.default(this.toArray()).egcd(r);return{a:new k(e.toArray()),b:new k(a.toArray()),gcd:new k(i.toArray())}}divmod(r,e,a){let{div:i,mod:p}=new Fr.default(this.toArray()).divmod(new k(r),e,a);return{div:new k(i==null?void 0:i.toArray()),mod:new k(p==null?void 0:p.toArray())}}},Et=(s,r,e)=>new k(s,r,e);function zr(s){return Et(s).toNumber()}function gn(s,r){return Et(s).toHex(r)}function St(s,r){return Et(s).toBytes(r)}var pr=class extends F{constructor(){super("b256","b256",32)}encode(r){let e;try{e=Tt(r)}catch{this.throwError(`Invalid ${this.type}`,r)}return e.length!==32&&this.throwError(`Invalid ${this.type}`,r),e}decode(r,e){let a=r.slice(e,e+32);return Et(a).isZero()&&(a=new Uint8Array(32)),a.length!==32&&this.throwError("Invalid size for b256",a),[gn(a,32),e+32]}};var jt=class extends F{constructor(){super("boolean","boolean",8)}encode(r){let e;try{e=St(r?1:0)}catch{this.throwError("Invalid bool",r)}return e.length>1&&this.throwError("Invalid bool",r),St(e,8)}decode(r,e){let a=Et(r.slice(e,e+8));return a.isZero()?[!1,e+8]:(a.eq(Et(1))||this.throwError("Invalid boolean value",a),[!0,e+8])}};var mr=class extends F{constructor(){super("byte","byte",8)}encode(r){let e;try{e=St(r,1)}catch{this.throwError("Invalid Byte",r)}return St(e,8)}decode(r,e){let a=r.slice(e,e+8),i=Et(a);return i.gt(Et(255))&&this.throwError("Invalid Byte",i),[Number(i),e+8]}};var It=class extends F{constructor(){super("u64","u64",8)}encode(r){let e;try{e=St(r,8)}catch{this.throwError(`Invalid ${this.type}`,r)}return e}decode(r,e){let a=r.slice(e,e+8);return a=a.slice(0,8),[Et(a),e+8]}};var Ur,gr,tr=class extends F{constructor(e,a){let i=new It,p=Object.values(a).reduce((y,v)=>Math.max(y,v.encodedLength),0);super("enum",`enum ${e}`,i.encodedLength+p);Rr(this,Ur,void 0);Rr(this,gr,void 0);this.name=e,this.coders=a,Sr(this,Ur,i),Sr(this,gr,p)}encode(e){let[a,...i]=Object.keys(e);if(!a)throw new Error("A field for the case must be provided");if(i.length!==0)throw new Error("Only one field must be provided");let p=this.coders[a],y=Object.keys(this.coders).indexOf(a),v=p.encode(e[a]),x=new Uint8Array(sr(this,gr)-p.encodedLength);return xt([sr(this,Ur).encode(y),x,v])}decode(e,a){let i=a,p;[p,i]=new It().decode(e,i);let y=zr(p),v=Object.keys(this.coders)[y];if(!v)throw new Error(`Invalid caseIndex "${y}". Valid cases: ${Object.keys(this.coders)}`);let x=this.coders[v];return i+=sr(this,gr)-x.encodedLength,[p,i]=x.decode(e,i),[{[v]:p},i]}};Ur=new WeakMap,gr=new WeakMap;var yr=class extends F{constructor(e){super("number",e,8);switch(this.baseType=e,e){case"u8":this.length=1;break;case"u16":this.length=2;break;case"u32":default:this.length=4;break}}encode(e){let a;try{a=St(e)}catch{this.throwError(`Invalid ${this.baseType}`,e)}return a.length>this.length&&this.throwError(`Invalid ${this.baseType}. Too many bytes.`,e),St(a,8)}decode(e,a){let i=e.slice(a,a+8);return i=i.slice(8-this.length,8),[zr(i),a+8]}};var yn="strings/5.7.0";var vn=new N(yn),Dr;(function(s){s.current="",s.NFC="NFC",s.NFD="NFD",s.NFKC="NFKC",s.NFKD="NFKD"})(Dr||(Dr={}));var Nt;(function(s){s.UNEXPECTED_CONTINUE="unexpected continuation byte",s.BAD_PREFIX="bad codepoint prefix",s.OVERRUN="string overrun",s.MISSING_CONTINUE="missing continuation byte",s.OUT_OF_RANGE="out of UTF-8 range",s.UTF16_SURROGATE="UTF-16 surrogate",s.OVERLONG="overlong representation"})(Nt||(Nt={}));function _i(s,r,e,a,i){return vn.throwArgumentError(`invalid codepoint at offset ${r}; ${s}`,"bytes",e)}function xn(s,r,e,a,i){if(s===Nt.BAD_PREFIX||s===Nt.UNEXPECTED_CONTINUE){let p=0;for(let y=r+1;y<e.length&&e[y]>>6===2;y++)p++;return p}return s===Nt.OVERRUN?e.length-r-1:0}function Ei(s,r,e,a,i){return s===Nt.OVERLONG?(a.push(i),0):(a.push(65533),xn(s,r,e,a,i))}var bn=Object.freeze({error:_i,ignore:xn,replace:Ei});function Ti(s,r){r==null&&(r=bn.error),s=Tt(s);let e=[],a=0;for(;a<s.length;){let i=s[a++];if(i>>7===0){e.push(i);continue}let p=null,y=null;if((i&224)===192)p=1,y=127;else if((i&240)===224)p=2,y=2047;else if((i&248)===240)p=3,y=65535;else{(i&192)===128?a+=r(Nt.UNEXPECTED_CONTINUE,a-1,s,e):a+=r(Nt.BAD_PREFIX,a-1,s,e);continue}if(a-1+p>=s.length){a+=r(Nt.OVERRUN,a-1,s,e);continue}let v=i&(1<<8-p-1)-1;for(let x=0;x<p;x++){let b=s[a];if((b&192)!=128){a+=r(Nt.MISSING_CONTINUE,a,s,e),v=null;break}v=v<<6|b&63,a++}if(v!==null){if(v>1114111){a+=r(Nt.OUT_OF_RANGE,a-1-p,s,e,v);continue}if(v>=55296&&v<=57343){a+=r(Nt.UTF16_SURROGATE,a-1-p,s,e,v);continue}if(v<=y){a+=r(Nt.OVERLONG,a-1-p,s,e,v);continue}e.push(v)}}return e}function vr(s,r=Dr.current){r!=Dr.current&&(vn.checkNormalize(),s=s.normalize(r));let e=[];for(let a=0;a<s.length;a++){let i=s.charCodeAt(a);if(i<128)e.push(i);else if(i<2048)e.push(i>>6|192),e.push(i&63|128);else if((i&64512)==55296){a++;let p=s.charCodeAt(a);if(a>=s.length||(p&64512)!==56320)throw new Error("invalid utf-8 string");let y=65536+((i&1023)<<10)+(p&1023);e.push(y>>18|240),e.push(y>>12&63|128),e.push(y>>6&63|128),e.push(y&63|128)}else e.push(i>>12|224),e.push(i>>6&63|128),e.push(i&63|128)}return Tt(e)}function Ni(s){return s.map(r=>r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10&1023)+55296,(r&1023)+56320))).join("")}function we(s,r){return Ni(Ti(s,r))}var xr,br=class extends F{constructor(e){let a=(8-e)%8;a=a<0?a+8:a;super("string",`str[${e}]`,e+a);Rr(this,xr,void 0);this.length=e,Sr(this,xr,a)}encode(e){let a=vr(e.slice(0,this.length)),i=new Uint8Array(sr(this,xr));return xt([a,i])}decode(e,a){let i=e.slice(a,a+this.length),p=we(i),y=sr(this,xr);return[p,a+this.length+y]}};xr=new WeakMap;var ar=class extends tr{encode(r){return super.encode(this.toSwayOption(r))}toSwayOption(r){return r!==void 0?{Some:r}:{None:[]}}decode(r,e){let[a,i]=super.decode(r,e);return[this.toOption(a),i]}toOption(r){if(r&&"Some"in r)return r.Some}};var wr=class extends F{constructor(e,a){let i=Object.values(a).reduce((p,y)=>p+y.encodedLength,0);super("struct",`struct ${e}`,i);this.name=e,this.coders=a}encode(e){let a=Object.keys(this.coders).map(i=>{let p=this.coders[i],y=e[i];return!(p instanceof ar)&&y==null&&this.throwError(`Invalid ${this.type}. Field "${i}" not present.`,e),p.encode(y)});return xt(a)}decode(e,a){let i=a;return[Object.keys(this.coders).reduce((y,v)=>{let x=this.coders[v],b;return[b,i]=x.decode(e,i),y[v]=b,y},{}),i]}};var rr=class extends F{constructor(e){let a=e.reduce((i,p)=>i+p.encodedLength,0);super("tuple",`(${e.map(i=>i.type).join(", ")})`,a);this.coders=e}encode(e){return this.coders.length!==e.length&&this.throwError("Types/values length mismatch",{value:e}),xt(this.coders.map((a,i)=>a.encode(e[i])))}decode(e,a){let i=a;return[this.coders.map(y=>{let v;return[v,i]=y.decode(e,i),v}),i]}};var Hr="enum Option",wn="struct Vec",Zr=/str\[(?<length>[0-9]+)\]/,kr=/\[(?<item>[\w\s\\[\]]+);\s*(?<length>[0-9]+)\]/,$r=/^struct (?<name>\w+)$/,Wr=/^enum (?<name>\w+)$/,Mn=/^\((?<items>.*)\)$/,An=/^generic (?<name>\w+)$/,_n=8,ca=32,da=255,pa=32,ma=32,ga=10240,ya=104;var Ci=3,kt=class extends F{constructor(e){super("struct","struct Vec",0);this.coder=e}static getBaseOffset(){return Ci*8}getEncodedVectorData(e){Array.isArray(e)||this.throwError("expected array value",e);let a=Array.from(e).map(i=>this.coder.encode(i));return xt(a)}encode(e){Array.isArray(e)||this.throwError("expected array value",e);let a=[],i=this.offset||0;return a.push(new It().encode(i)),a.push(new It().encode(e.length)),a.push(new It().encode(e.length)),xt(a)}decode(e,a){return this.throwError("unexpected Vec decode","not implemented"),[void 0,a]}};function Lr(s){return s.filter(r=>(r==null?void 0:r.type)!=="()"&&r!=="()")}function En(s){return s.some(r=>(r==null?void 0:r.type)===Hr)}function Tn(s,r,e=0){let a=[],i=s.map((v,x)=>{if(!(v instanceof kt))return{byteLength:v.encodedLength};let b=v.getEncodedVectorData(r[x]);return a.push(b),{vecByteLength:b.byteLength}}),p=a.length*kt.getBaseOffset()+e,y=s.map((v,x)=>v instanceof kt?i.reduce((b,_,E)=>"byteLength"in _?b+_.byteLength:E===0&&E===x?p:E<x?b+_.vecByteLength+p:b,0):0);return s.forEach((v,x)=>v.setOffset(y[x])),a}var Gr=class{constructor(r){this.inputs=[];this.outputs=[];this.type=r.type,this.name=r.name,this.inputs=r.inputs,this.outputs=r.outputs}};var Nn="properties/5.7.0";var Ra=new N(Nn);function Cn(s,r,e){Object.defineProperty(s,r,{enumerable:!0,value:e,writable:!1})}function Ii(s,r){Object.keys(r).forEach(e=>{let a=e,i=r[a];Cn(s,a,i)})}var Lt=class{constructor(r){Ii(this,r),this.isParamType=!0,Object.freeze(this)}getSignaturePrefix(){if(this.type){if($r.test(this.type))return"s";if(kr.test(this.type))return"a";if(Wr.test(this.type))return"e"}return""}getSignatureContent(){var i,p;let r=this.type||"",e=(i=kr.exec(r))==null?void 0:i.groups;if(e)return`[${this.components?this.components[0].getSighash():e.item};${e.length}]`;let a=(p=Zr.exec(r))==null?void 0:p.groups;if(a)return`str[${a.length}]`;if(Array.isArray(this.components)){let y=Array.isArray(this.typeArguments)?`<${this.typeArguments.map(x=>x.getSighash()).join(",")}>`:"",v=`(${this.components.map(x=>x.getSighash()).join(",")})`;return`${y}${v}`}return r}getSighash(){let r=this.getSignaturePrefix(),e=this.getSignatureContent();return`${r}${e}`}static fromObject(r){return Lt.isParamType(r)?r:new Lt({name:r.name,type:r.type,components:r.components?r.components.map(Lt.fromObject):void 0,typeArguments:r.typeArguments?r.typeArguments.map(Lt.fromObject):void 0})}static isParamType(r){return Boolean(r==null?void 0:r.isParamType)}};var er=class extends Gr{static fromObject(r){let{inputs:e=[],outputs:a=[]}=r,i={type:"function",name:r.name,inputs:e.map(Lt.fromObject),outputs:a.map(Lt.fromObject)};return new er(i)}getInputsSighash(){let r=this.inputs.map(e=>e.getSighash());return`${this.name}(${r.join(",")})`}};var pi=tn(ci());var di="sha2/5.7.0";var i0=new N(di);function Be(s){return"0x"+pi.default.sha256().update(Tt(s)).digest("hex")}var Yr=new N("0.16.0"),ir=class{constructor(){Yr.checkNew(new.target,ir)}getCoder(r){var v,x,b,_,E,R;switch(r.type){case"u8":case"u16":case"u32":return new yr(r.type);case"u64":return new It;case"bool":return new jt;case"byte":return new mr;case"b256":return new pr;default:}let e=(v=kr.exec(r.type))==null?void 0:v.groups;if(e){let C=parseInt(e.length,10),S=(x=r.components)==null?void 0:x[0];if(!S)throw new Error("Expected array type to have an item component");let _t=this.getCoder(S);return new dr(_t,C)}let a=(b=Zr.exec(r.type))==null?void 0:b.groups;if(a){let C=parseInt(a.length,10);return new br(C)}if(r.type===wn&&Array.isArray(r.typeArguments)){let C=r.typeArguments[0];if(!C)throw new Error("Expected Vec type to have a type argument");let S=this.getCoder(C);return new kt(S)}let i=(_=$r.exec(r.type))==null?void 0:_.groups;if(i&&Array.isArray(r.components)){let C=r.components.reduce((S,_t)=>(S[_t.name]=this.getCoder(_t),S),{});return new wr(i.name,C)}let p=(E=Wr.exec(r.type))==null?void 0:E.groups;if(p&&Array.isArray(r.components)){let C=r.components.reduce((_t,Ot)=>(_t[Ot.name]=this.getCoder(Ot),_t),{});return r.type===Hr?new ar(p.name,C):new tr(p.name,C)}if(((R=Mn.exec(r.type))==null?void 0:R.groups)&&Array.isArray(r.components)){let C=r.components.map(S=>this.getCoder(S));return new rr(C)}return Yr.throwArgumentError("Invalid type","type",r.type)}encode(r,e,a=0){let i=Lr(r),p=e.slice();Array.isArray(e)&&i.length!==e.length&&(En(r)?(p.length=r.length,p.fill(void 0,e.length)):Yr.throwError("Types/values length mismatch",N.errors.INVALID_ARGUMENT,{count:{types:i.length,values:e.length},value:{types:r,values:e}}));let y=i.map(_=>this.getCoder(_)),v=Tn(y,p,a),b=new rr(y).encode(p);return xt([b,xt(v)])}decode(r,e){let a=Tt(e),i=Lr(r),p=_=>{_!==a.length&&Yr.throwError("Types/values length mismatch",N.errors.INVALID_ARGUMENT,{count:{types:i.length,values:a.length},value:{types:i,bytes:a}})};if(r.length===0||i.length===0){p(a.length?8:0);return}let y=i.map(_=>this.getCoder(_)),v=new rr(y),[x,b]=v.decode(a,0);return p(b),x}};var Ir=class{constructor(r){this.types=r.types,this.functions=r.functions}parseInput(r,e=new Map){let a=this.types[r.type],i,p;if(!a)throw new Error(`${r.type} not found`);if(Array.isArray(r.typeArguments)&&(p=r.typeArguments.map(y=>this.parseInput(y,e))),Array.isArray(a.typeParameters)&&Array.isArray(p)&&a.typeParameters.forEach((y,v)=>{p!=null&&p[v]&&e.set(y,p[v])}),Array.isArray(a.components)&&(i=a.components.map(y=>this.parseInput(y,e))),An.test(a.type)){let y=e.get(a.typeId);if(y)return{...y,name:r.name}}return{type:a.type,name:r.name,typeArguments:p,components:i}}static unflatten(r){return Array.isArray(r)?r:new Ir(r).unflatten()}unflatten(){return this.functions.map(r=>({type:"function",name:r.name,inputs:(r.inputs||[]).map(e=>this.parseInput(e)),outputs:r.output?[this.parseInput(r.output)]:[]}))}},mi=s=>{switch(s){case"u8":case"u16":case"u32":case"u64":case"bool":return!1;default:return!0}};var Pe=new N("0.16.0"),jo=s=>{let r=[];return s.forEach(e=>{e.type==="function"&&r.push(er.fromObject(e))}),r},or=class{constructor(r){this.fragments=jo(Ir.unflatten(r)),this.abiCoder=new ir,this.functions={},this.fragments.forEach(e=>{let a={};switch(e.type){case"function":a=this.functions;break;default:return}let i=e.getInputsSighash();if(a[i]){Pe.warn(`duplicate definition - ${i}`);return}a[i]=e})}static getSighash(r){let e=typeof r=="string"?vr(r):vr(r.getInputsSighash());return xt([new Uint8Array(4),Tt(Be(e)).slice(0,4)])}getFunction(r){if(this.functions[r])return this.functions[r];let e=Object.values(this.functions).find(a=>Pr(or.getSighash(a))===r||a.name===r);return e||Pe.throwArgumentError(`function ${r} not found.`,"data",e)}decodeFunctionData(r,e){let a=typeof r=="string"?this.getFunction(r):r,i=Tt(e);return Pr(i.slice(0,8))!==Pr(or.getSighash(a))&&Pe.throwArgumentError(`data signature does not match function ${a.name}.`,"data",Pr(i)),this.abiCoder.decode(a.inputs,i.slice(16))}encodeFunctionData(r,e,a=0){let i=typeof r=="string"?this.getFunction(r):r;if(!i)throw new Error("Fragment not found");let p=or.getSighash(i),y=Lr(i.inputs);if(y.length===0)return p;let v=y.length>1||mi(y[0].type),x=this.abiCoder.encode(y,e,a);return xt([p,new jt().encode(v),x])}decodeFunctionResult(r,e){let a=typeof r=="string"?this.getFunction(r):r,i=Tt(e);return this.abiCoder.decode(a.outputs,i)}encodeFunctionResult(r,e){let a=typeof r=="string"?this.getFunction(r):r;if(!a)throw new Error("Fragment not found");return this.abiCoder.encode(a.outputs,e)}};})();
//# sourceMappingURL=index.global.js.map